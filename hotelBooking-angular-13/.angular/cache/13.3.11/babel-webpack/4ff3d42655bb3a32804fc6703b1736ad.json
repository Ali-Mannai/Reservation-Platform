{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\MANNAI ALI\\\\Desktop\\\\PFA hotel\\\\hotelBooking-angular-13\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport axios from 'axios';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nexport class PaymentComponent {\n  constructor() {}\n\n  ngOnInit() {// Vous pouvez initialiser le montant ici si nécessaire\n    // this.amount = 100; // Par exemple\n  }\n\n  processPayment() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        const response = yield axios.post('/payment', {\n          amount: _this.amount\n        }); // Rediriger vers l'URL de paiement obtenue\n\n        window.location.href = response.data.payment_url;\n      } catch (error) {\n        console.error('Une erreur s\\'est produite lors de la récupération de l\\'URL de paiement :', error); // Gérer l'erreur, par exemple afficher un message à l'utilisateur\n      }\n    })();\n  }\n\n}\n\nPaymentComponent.ɵfac = function PaymentComponent_Factory(t) {\n  return new (t || PaymentComponent)();\n};\n\nPaymentComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PaymentComponent,\n  selectors: [[\"app-payment\"]],\n  decls: 14,\n  vars: 1,\n  consts: [[1, \"container\", \"mt-5\"], [1, \"row\", \"justify-content-center\"], [1, \"col-md-6\"], [1, \"card\"], [1, \"card-body\"], [1, \"card-title\"], [3, \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"amount\"], [\"type\", \"number\", \"id\", \"amount\", \"name\", \"amount\", \"disabled\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"]],\n  template: function PaymentComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"h5\", 5);\n      i0.ɵɵtext(6, \"Paiement\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"form\", 6);\n      i0.ɵɵlistener(\"ngSubmit\", function PaymentComponent_Template_form_ngSubmit_7_listener() {\n        return ctx.processPayment();\n      });\n      i0.ɵɵelementStart(8, \"div\", 7)(9, \"label\", 8);\n      i0.ɵɵtext(10, \"Montant\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"input\", 9);\n      i0.ɵɵlistener(\"ngModelChange\", function PaymentComponent_Template_input_ngModelChange_11_listener($event) {\n        return ctx.amount = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(12, \"button\", 10);\n      i0.ɵɵtext(13, \"Proc\\u00E9der au paiement\");\n      i0.ɵɵelementEnd()()()()()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"ngModel\", ctx.amount);\n    }\n  },\n  directives: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.NgForm, i1.NumberValueAccessor, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgModel],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwYXltZW50LmNvbXBvbmVudC5jc3MifQ== */\"]\n});","map":{"version":3,"sources":["C:/Users/MANNAI ALI/Desktop/PFA hotel/hotelBooking-angular-13/src/app/components/payment/payment.component.ts"],"names":["axios","i0","i1","PaymentComponent","constructor","ngOnInit","processPayment","response","post","amount","window","location","href","data","payment_url","error","console","ɵfac","PaymentComponent_Factory","t","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","PaymentComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","PaymentComponent_Template_form_ngSubmit_7_listener","PaymentComponent_Template_input_ngModelChange_11_listener","$event","ɵɵadvance","ɵɵproperty","directives","ɵNgNoValidate","NgControlStatusGroup","NgForm","NumberValueAccessor","DefaultValueAccessor","NgControlStatus","NgModel","styles"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/forms\";\r\nexport class PaymentComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n        // Vous pouvez initialiser le montant ici si nécessaire\r\n        // this.amount = 100; // Par exemple\r\n    }\r\n    async processPayment() {\r\n        try {\r\n            const response = await axios.post('/payment', { amount: this.amount });\r\n            // Rediriger vers l'URL de paiement obtenue\r\n            window.location.href = response.data.payment_url;\r\n        }\r\n        catch (error) {\r\n            console.error('Une erreur s\\'est produite lors de la récupération de l\\'URL de paiement :', error);\r\n            // Gérer l'erreur, par exemple afficher un message à l'utilisateur\r\n        }\r\n    }\r\n}\r\nPaymentComponent.ɵfac = function PaymentComponent_Factory(t) { return new (t || PaymentComponent)(); };\r\nPaymentComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: PaymentComponent, selectors: [[\"app-payment\"]], decls: 14, vars: 1, consts: [[1, \"container\", \"mt-5\"], [1, \"row\", \"justify-content-center\"], [1, \"col-md-6\"], [1, \"card\"], [1, \"card-body\"], [1, \"card-title\"], [3, \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"amount\"], [\"type\", \"number\", \"id\", \"amount\", \"name\", \"amount\", \"disabled\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"]], template: function PaymentComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"h5\", 5);\r\n        i0.ɵɵtext(6, \"Paiement\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(7, \"form\", 6);\r\n        i0.ɵɵlistener(\"ngSubmit\", function PaymentComponent_Template_form_ngSubmit_7_listener() { return ctx.processPayment(); });\r\n        i0.ɵɵelementStart(8, \"div\", 7)(9, \"label\", 8);\r\n        i0.ɵɵtext(10, \"Montant\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(11, \"input\", 9);\r\n        i0.ɵɵlistener(\"ngModelChange\", function PaymentComponent_Template_input_ngModelChange_11_listener($event) { return ctx.amount = $event; });\r\n        i0.ɵɵelementEnd()();\r\n        i0.ɵɵelementStart(12, \"button\", 10);\r\n        i0.ɵɵtext(13, \"Proc\\u00E9der au paiement\");\r\n        i0.ɵɵelementEnd()()()()()()();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(11);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.amount);\r\n    } }, directives: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.NgForm, i1.NumberValueAccessor, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgModel], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwYXltZW50LmNvbXBvbmVudC5jc3MifQ== */\"] });\r\n"]},"metadata":{},"sourceType":"module"}